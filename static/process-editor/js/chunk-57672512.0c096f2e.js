(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57672512"],{"8f73":function(e,t,s){"use strict";t["a"]={props:{mode:{type:String,default:"DESIGN"},required:{type:Boolean,default:!1}},data(){return{}},computed:{_value:{get(){return this.value},set(e){this.$emit("input",e)}}}}},"918a":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",["DESIGN"===e.mode?t("div",[t("draggable",{staticClass:"l-drag-from",attrs:{list:e._items,group:"form",options:{animation:300,chosenClass:"choose",sort:!0}},on:{start:function(t){e.drag=!0,e.selectFormItem=null},end:function(t){e.drag=!1}}},e._l(e._items,(function(s,i){return t("div",{key:i,staticClass:"l-form-item",style:e.getSelectedClass(s),on:{click:function(t){return t.stopPropagation(),e.selectItem(s)}}},[t("div",{staticClass:"l-form-header"},[t("p",[s.props.required?t("span",[e._v("*")]):e._e(),e._v(e._s(s.title))]),t("div",{staticClass:"l-option"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){return e.delItem(i)}}})]),t("form-design-render",{attrs:{config:s}})],1)])})),0),t("div",{staticStyle:{color:"#c0bebe","text-align":"center",width:"90%",padding:"5px"}},[e._v("☝ 拖拽控件到布局容器内部")])],1):t("div",e._l(e.__items,(function(s,i){return t("el-row",{key:i+"_rows",attrs:{gutter:20}},e._l(s,(function(i,r){return t("el-col",{key:r+"_row",attrs:{span:24/s.length}},["SpanLayout"!==i.name&&"Description"!==i.name?t("el-form-item",{key:i.name+r,attrs:{prop:i.id,label:i.title}},[t("form-design-render",{attrs:{mode:e.mode,config:i},model:{value:e._value[i.id],callback:function(t){e.$set(e._value,i.id,t)},expression:"_value[item.id]"}})],1):t("form-design-render",{attrs:{mode:e.mode,config:i},model:{value:e._value,callback:function(t){e._value=t},expression:"_value"}})],1)})),1)})),1)])},r=[],o=(s("14d9"),s("b76a")),n=s.n(o),a=s("d16b"),l=s("8f73"),m={mixins:[l["a"]],name:"SpanLayout",components:{draggable:n.a,FormDesignRender:a["a"]},props:{value:{default:null},items:{type:Array,default:()=>[]}},computed:{_items:{get(){return this.items},set(e){this.items=e}},__items(){let e=[];for(let t=0;t<this.items.length;t++)t>0&&t%2>0&&e.push([this.items[t-1],this.items[t]]);return 2*e.length<this.items.length&&e.push([this.items[this.items.length-1]]),e},selectFormItem:{get(){return this.$store.state.selectFormItem},set(e){this.$store.state.selectFormItem=e}},nodeMap(){return this.$store.state.nodeMap}},data(){return{select:null,drag:!1,formConfig:{data:{},rules:{}},form:{formId:"",formName:"",logo:{},formItems:[],process:{},remark:""}}},methods:{selectItem(e){this.selectFormItem=e},getSelectedClass(e){return this.selectFormItem&&this.selectFormItem.id===e.id?"border-left: 4px solid #f56c6c":""},delItem(e){this.$confirm("删除组件将会连带删除包含该组件的条件以及相关设置，是否继续?","提示",{confirmButtonText:"确 定",cancelButtonText:"取 消",type:"warning"}).then(()=>{"SpanLayout"===this._items[e].name?(this._items[e].props.items.forEach(e=>{this.removeFormItemAbout(e)}),this._items[e].props.items.length=0):this.removeFormItemAbout(this._items[e]),this._items.splice(e,1)})},async removeFormItemAbout(e){this.nodeMap.forEach(t=>{"CONDITION"===t.type&&t.props.groups.forEach(t=>{let s=t.cids.remove(e.id);s>-1&&t.conditions.splice(s,1)}),"ROOT"!==t.type&&"APPROVAL"!==t.type&&"CC"!==t.type||t.props.formPerms.removeByKey("id",e.id)})}}},c=m,u=(s("e4a6"),s("2877")),d=Object(u["a"])(c,i,r,!1,null,"372b2a08",null);t["default"]=d.exports},c590:function(e,t,s){},e4a6:function(e,t,s){"use strict";s("c590")}}]);
//# sourceMappingURL=chunk-57672512.0c096f2e.js.map